<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Französisch Vokabeln</title>
<style>
  body {
    font-family: Arial, sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px;
    margin: 0;
    background: #f4f4f4;
  }
  h1 {
    text-align: center;
    font-size: 6vw; /* responsive */
    margin-bottom: 20px;
    word-break: break-word;
  }
  #textDisplay {
    font-size: 5vw; /* responsive */
    margin-bottom: 20px;
    max-width: 95%;
    line-height: 1.5;
    white-space: pre-wrap;
    word-break: break-word;
    position: relative;
  }
  .correct { color: black; }
  .incorrect { color: red; }
  .pending { color: grey; }
  .cursor {
    display: inline-block;
    width: 2px;
    height: 1.2em;
    background: blue;
    vertical-align: bottom;
    animation: blink 1s steps(2, start) infinite;
  }
  @keyframes blink {
    0%, 50% { visibility: visible; }
    51%, 100% { visibility: hidden; }
  }
  #result {
    margin-top: 20px;
    font-size: 5vw;
    text-align: center;
  }
  /* Progress Bar Styles */
  #progressContainer {
    width: 90%;
    max-width: 600px;
    height: 6vw;
    background: #ddd;
    border-radius: 10px;
    margin-top: 20px;
    overflow: hidden;
  }
  #progressBar {
    height: 100%;
    width: 0%;
    background: #4caf50;
    transition: width 0.8s ease;
  }
  /* Kleines sichtbares Input-Feld für mobile Tastatur */
  #mobileInput {
    position: fixed;
    bottom: 10px;
    left: 50%;
    transform: translateX(-50%);
    opacity: 0.05; /* fast unsichtbar */
    width: 80px;
    height: 40px;
    font-size: 16px;
  }
</style>
</head>
<body>

<h1>✨ Französisch Vokabeln</h1>
<div id="textDisplay"></div>
<div id="result"></div>

<div id="progressContainer">
  <div id="progressBar"></div>
</div>

<!-- Input für mobile Tastatur -->
<input type="text" 
       id="mobileInput" 
       autofocus 
       autocapitalize="false" 
       autocomplete="off" 
       autocorrect="off" 
       spellcheck="false" />

<script>
const words = ["un lycée","le Grand Est","un voyage scolaire","la Champagne","régional","la Lorraine","ancien","une bataille","un champ de bataille",
               "un cimetière","un Allemand","le Parlement européen","une cave","le champagne","une truffe","un itinéraire","l'Alsace","former qc",
               "le Luxembourg","une cigogne","alsacien","un commentaire","informer qn sur qc","une visite guidée","une étape","magique","une façade","illuminer qc",
              "haut","l'intérieur","un peintre","un producteur","détruire qc","un symbole","finalement","décider de faire qc","reconstruire qc","durer","en partie",
              "libre","un rédacteur","grâce à qn/qc","une application","interactif","la Première Guerre mondiale","dur","marquer qc","virtuel","une tranchée","une trace",
              "en plein air","un fort","se dérouler","une armée","un mort","complet","une tombe","un reste","une auberge de jeunesse","la choucroute","franco-allemand",
              "un jeu de piste","en haut","sauf","une marche","un ascenseur","Ça vaut le coup.","les Vosges","être du même avis","distribuer qc","sérieux","prendre qn/qc au sérieux",
              "se concentrer sur qc","un Européen","une institution","passionnant","une émission","une tarte flambée","un Alsacien","un dialect","une coopération","reconnaître qn/qc",
              "un ennemi","la mort","un blessé","un résistant","déporter qn","un maire","une expérience","un jumelage","le Bade-Wurtemberg","un président","un chancelier","signer qc",
              "un traité","le traité de l'Elysée","l'amitié","une réconciliation","une relation","une connaissance","lutter contre qc","un préjugé","rendre hommage à qn","un geste",
              "la paix","une entreprise","un domaine","Aix-la-Chapelle","renforcer qc","les transports","un employé","à bord de qc","militaire","une brigade","culturel","l'éducation",
              "l'économie","la politique","le chef de l'Etat","le dos","un directeur","fuir","collaborer avec qn","défendre qn/qc","un général","résister à qn/qc","la résistance",
              "un cliché","positif","negatif","un moteur","un sondage","l'esprit","venir à l'esprit de qn","l'Union européenne","la rigidité","l'austérité","la discipline","l'organisation",
              "le tourisme","le nazisme","la chute du mur","la réunification","l'industrie","la technologie","une innovation","une saucisse","l'écologie","un diagramme","la majorité",
              "divers","chacun","certains","un pour cent","la plupart des","surprendre qn","berlinous","une coutume","une valeur","y","une vitrine","correct","Berlin","la peau","le cuir",
              "gras","la crème","une joue","une natte","un Berlinois","turc","grec","en","arabe","s'attendre à qc","une nationalité","la planète","déçu","un béret","une moustache"];
let currentWordIndex = 0;
let currentCharIndex = 0;
let typedChars = [];

const textDisplay = document.getElementById('textDisplay');
const result = document.getElementById('result');
const progressBar = document.getElementById('progressBar');
const mobileInput = document.getElementById('mobileInput');

function renderWord() {
  textDisplay.innerHTML = '';
  if(currentWordIndex >= words.length) return;
  const word = words[currentWordIndex];
  for(let idx=0; idx<word.length; idx++){
    const span = document.createElement('span');
    span.textContent = word[idx];
    if(idx<currentCharIndex) span.className = typedChars[idx]===word[idx]?'correct':'incorrect';
    else span.className='pending';
    if(idx===currentCharIndex){
      const cursor = document.createElement('span');
      cursor.className='cursor';
      textDisplay.appendChild(cursor);
    }
    textDisplay.appendChild(span);
  }
  // Progress Bar pro Wort
  const progressPercent = (currentWordIndex/words.length)*100;
  progressBar.style.width = progressPercent+'%';
}

// Fokus auf Input setzen, damit mobile Tastatur erscheint
function focusInput(){
  mobileInput.focus();
}
window.addEventListener('load', focusInput);
document.body.addEventListener('touchstart', focusInput);
window.addEventListener('click', focusInput);

mobileInput.addEventListener('input', (e)=>{
  const char = e.data;
  if(!char || currentWordIndex>=words.length) return;
  typedChars[currentCharIndex]=char;
  currentCharIndex++;
  renderWord();
  mobileInput.value=''; // Input zurücksetzen

  const word = words[currentWordIndex];
  if(currentCharIndex===word.length){
    currentWordIndex++;
    currentCharIndex=0;
    typedChars=[];
    if(currentWordIndex<words.length){
      renderWord();
    } else {
      textDisplay.innerHTML='';
      result.textContent='Fertig!';
      progressBar.style.width='100%';
    }
  }
});

renderWord();
focusInput();
</script>

</body>
</html>


